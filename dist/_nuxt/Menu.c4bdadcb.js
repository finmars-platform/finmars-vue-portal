import{a as R,r as d,v as B,J as x,K as C,E as $,j as v,o as m,f as _,h as H,B as w,u as y,k as N,w as S,A as M,l as V,T as W}from"./entry.e001551d.js";const Y={class:"fm_menu"},D={__name:"Menu",props:{anchor:{type:String,default:"bottom left"},menuMinHeight:String,offsetY:{type:Number,default:0}},setup(h){const o=h;let t=d(!1),i=d(null),f=d(null),T=o.anchor.includes("top"),p=o.anchor.includes("bottom"),b=o.anchor.includes("left"),g=o.anchor.includes("right");B(t,async()=>{if(!t.value)return!1;await x();let e=f.value.getBoundingClientRect(),l=i.value.getBoundingClientRect(),s=i.value.closest(".scrollable"),n,a,r,u;if(s){let c=s.getBoundingClientRect();n=c.left-e.left,a=c.right-e.right,r=e.top-c.top,u=c.bottom-e.bottom}else n=window.innerWidth-e.left,a=window.innerWidth-e.right,r=e.top-window.innerHeight,u=window.innerHeight-e.bottom;i.value.style.position="absolute",i.value.style.minWidth=`${l.width}px`,i.value.style.width="100%",console.log("popupRect.height:",l.height),console.log("distanceToTop:",r),(!T&&!p||p)&&u>=l.height||r<=l.height?i.value.style.top=`${e.height+o.offsetY}px`:i.value.style.bottom=`${e.height+o.offsetY}px`,(a<=l.width||o.anchor.includes("right"))&&(i.value.style.right="0"),(!b&&!g||g)&&a>=l.width||n<=l.width?i.value.style.right="0":i.value.style.left=0});function k(){t.value=!t.value}return(e,l)=>{const s=C("click-outside");return $((m(),_("div",Y,[H("div",{onClick:l[0]||(l[0]=n=>k()),ref_key:"activator",ref:f,class:"height-100"},[w(e.$slots,"btn",{isOpen:y(t)},void 0,!0)],512),N(W,null,{default:S(()=>[y(t)?(m(),_("div",{key:0,class:"fm_drop",ref_key:"popup",ref:i,style:M({"min-height":h.menuMinHeight})},[w(e.$slots,"default",{close:()=>v(t)?t.value=!1:t=!1},void 0,!0)],4)):V("",!0)]),_:3})])),[[s,()=>v(t)?t.value=!1:t=!1]])}}},L=R(D,[["__scopeId","data-v-971708cd"]]);export{L as _};
