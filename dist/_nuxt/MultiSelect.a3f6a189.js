import{_ as z}from"./Icon.02350196.js";import{_ as M}from"./Input.5f2d228f.js";import{a as q,r as V,L as D,I as C,o as r,f as c,k as i,w as _,h as n,F as y,y as S,t as g,u as m,j as v,i as B,m as F,z as O,W as R,q as T,s as W}from"./entry.e001551d.js";const A=d=>(T("data-v-ad202e68"),d=d(),W(),d),G={class:"flex aic",style:{height:"inherit"}},H={class:"flex sp aic"},J={class:"available"},K=A(()=>n("div",{class:"header"},"Available",-1)),P={class:"block"},Q={class:"search"},X={class:"list"},Y=["onClick"],Z={class:"actions"},ee={class:"selected"},te=A(()=>n("div",{class:"header"},"Selected",-1)),le={class:"block"},se={class:"search"},oe={class:"list"},ae=["onClick"],ne={class:"flex sb"},ie=F("cancel"),de=F("save"),re={__name:"MultiSelect",props:{items:Array,modelValue:[String,Array],title:String,item_title:{type:String,default:"user_code"},item_id:{type:String,default:"user_code"}},emits:["update:modelValue"],setup(d,{emit:N}){const o=d;let a=V(!1),f=V(""),p=V(""),h=o.modelValue;typeof h=="string"&&(h=h.split(","));let u=D(new Set(h||[])),E=C(()=>[...u].map(s=>o.items.find(t=>t[o.item_id]==s)[o.item_title])),x=C(()=>o.items.length?o.items.filter(s=>{let t=s[o.item_id];return u.has(t)&&s[o.item_title].toLocaleLowerCase().includes(p.value.toLocaleLowerCase())}):[]),L=C(()=>o.items.length?o.items.filter(s=>{let t=s[o.item_id];return!u.has(t)&&s[o.item_title].toLocaleLowerCase().includes(f.value.toLocaleLowerCase())}):[]);function U(){let s=[...u];typeof o.modelValue=="String"&&(s=s.join(",")),N("update:modelValue",s),a.value=!1}function w(s){L.value.filter(l=>l.selected||!!s).map(l=>(l.selected=!1,l[o.item_id])).forEach(l=>u.add(l))}function I(s){x.value.filter(l=>l.selected||!!s).map(l=>(l.selected=!1,l[o.item_id])).forEach(l=>u.delete(l))}return(s,t)=>{const l=z,b=M,$=O,j=R;return r(),c("div",null,[i(b,{class:"ms_wrap",label:d.title,onClick:t[0]||(t[0]=e=>v(a)?a.value=!0:a=!0),modelValue:" "},{button:_(()=>[i(l,{icon:"menu"})]),default:_(()=>[n("div",G,[(r(!0),c(y,null,S(m(E),(e,k)=>(r(),c("div",{class:"fm_chip",key:k},g(e.length>10?e.slice(0,10)+"...":e),1))),128))])]),_:1},8,["label"]),i(j,{title:d.title,modelValue:m(a),"onUpdate:modelValue":t[9]||(t[9]=e=>v(a)?a.value=e:a=e),onCancel:t[10]||(t[10]=e=>v(a)?a.value=!1:a=!1)},{controls:_(()=>[n("div",ne,[i($,{type:"text",onClick:t[7]||(t[7]=e=>v(a)?a.value=!1:a=!1)},{default:_(()=>[ie]),_:1}),i($,{onClick:t[8]||(t[8]=e=>U())},{default:_(()=>[de]),_:1})])]),default:_(()=>[n("div",H,[n("div",J,[K,n("div",P,[n("div",Q,[i(b,{class:"m-b-0",label:"Search",modelValue:m(f),"onUpdate:modelValue":t[1]||(t[1]=e=>v(f)?f.value=e:f=e)},null,8,["modelValue"])]),n("div",X,[(r(!0),c(y,null,S(m(L),e=>(r(),c("div",{class:B(["list_item",{selected:e.selected}]),key:e.name,onClick:k=>e.selected=!e.selected},g(e[d.item_title]),11,Y))),128))])])]),n("div",Z,[i(l,{btn:"",icon:"chevron_right",onClick:t[2]||(t[2]=e=>w())}),i(l,{btn:"",icon:"keyboard_double_arrow_right",onClick:t[3]||(t[3]=e=>w("all"))}),i(l,{btn:"",icon:"chevron_left",onClick:t[4]||(t[4]=e=>I())}),i(l,{btn:"",icon:"keyboard_double_arrow_left",onClick:t[5]||(t[5]=e=>I("all"))})]),n("div",ee,[te,n("div",le,[n("div",se,[i(b,{class:"m-b-0",label:"Search",modelValue:m(p),"onUpdate:modelValue":t[6]||(t[6]=e=>v(p)?p.value=e:p=e)},null,8,["modelValue"])]),n("div",oe,[(r(!0),c(y,null,S(m(x),e=>(r(),c("div",{class:B(["list_item",{selected:e.selected}]),key:e.name,onClick:k=>e.selected=!e.selected},g(e[d.item_title]),11,ae))),128))])])])])]),_:1},8,["title","modelValue"])])}}},me=q(re,[["__scopeId","data-v-ad202e68"]]);export{me as _};
