import{_ as D}from"./MultiSelect.a3f6a189.js";import{_ as C}from"./SettingsLayout.728c6754.js";import{a as G,b as S,a1 as Y,Q as B,r as b,I,v as M,u as a,o as R,c as F,w as s,k as l,l as L,m as V,x as c,p as T,e as u}from"./entry.e001551d.js";import{u as A}from"./useNotify.ee45f36b.js";import"./Icon.02350196.js";import"./Input.5f2d228f.js";const E=V("General"),O=V("Roles"),Q={__name:"[id]",setup(q){const _=S();let p=Y(),y=B(),e=b({}),m=b({}),x=I(()=>e.value.groups_object?e.value.groups_object.map(t=>t.name):"");async function f(){let t=await c("member.get",{params:{id:p.params.id}});e.value=t,t=await c("userGroups.get"),m.value=t.results}function g(t){console.log("val:",t);let o=[];return t.forEach(d=>{let r=m.value.find(i=>i.name==d);r&&o.push(r.id)}),console.log("result:",o),o}async function h(){await c("member.put",{body:e.value,params:{id:p.params.id}})&&A({type:"success",title:"Saved!"})}async function w(){y.push("/settings/permissions")}function k(t){return T(t).format("DD.MM.YYYY LT")}return _.current.base_api_url?f():M(()=>_.current,async()=>{f()}),(t,o)=>{const d=u("v-card-title"),r=u("v-text-field"),i=u("v-card-content"),v=u("v-card"),U=D,j=u("v-checkbox"),N=C;return a(e).id?(R(),F(N,{key:0,title:"Update member",saveFunc:h,cancelFunc:w},{left:s(()=>[l(v,{class:"mb-6"},{default:s(()=>[l(d,{class:"text-h5"},{default:s(()=>[E]),_:1}),l(i,null,{default:s(()=>[l(r,{label:"Name",placeholder:"Name",variant:"outlined",density:"comfortable",modelValue:a(e).username,"onUpdate:modelValue":o[0]||(o[0]=n=>a(e).username=n),disabled:""},null,8,["modelValue"]),l(r,{label:"Date joined",placeholder:"Date joined",variant:"outlined",density:"comfortable",modelValue:k(a(e).join_date),disabled:""},null,8,["modelValue"])]),_:1})]),_:1})]),right:s(()=>[l(v,{class:"mb-6"},{default:s(()=>[l(d,null,{default:s(()=>[O]),_:1}),l(i,null,{default:s(()=>[l(r,{label:"User roles",placeholder:"User roles",variant:"outlined",density:"comfortable",modelValue:a(e).username,"onUpdate:modelValue":o[1]||(o[1]=n=>a(e).username=n),disabled:""},null,8,["modelValue"]),l(U,{modelValue:a(x).join(","),"onUpdate:modelValue":o[2]||(o[2]=n=>a(e).groups=g(n)),title:"Groups",item_title:"name",items:a(m)},null,8,["modelValue","items"]),l(j,{modelValue:a(e).is_owner,"onUpdate:modelValue":o[3]||(o[3]=n=>a(e).is_owner=n),label:"Owner",color:"primary","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})):L("",!0)}}},X=G(Q,[["__scopeId","data-v-5659111c"]]);export{X as default};
