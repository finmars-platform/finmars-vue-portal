<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Widgets example</title>
	<style>
		* {
			margin: 0;
			border: none;
			padding: 0;
		}
		body {
			padding: 20px;
		}
		.flex {
			display: flex;
		}
		.details {
			display: grid;
			grid-template-columns: 1fr 1fr;
			gap: 30px;
			margin-top: 30px;
		}
		#balance_time {
			margin-top: 30px;
		}
		@media only screen and (max-width: 767px) {
			body {
				padding: 20px 0;
			}
			#balance_nav {
				padding: 0 20px;
			}
			#balance_pl {
				margin-top: 30px;
			}
			#balance_pl iframe {
			}
			#balance_time iframe {
				height: auto;
				min-height: 450px;
			}
			#balance_datail iframe {
				height: auto;
				min-height: 400px;
			}
			.details {
				display: block;
			}
		}
	</style>
</head>
<body>
	<div id="balance_nav"></div>
	<div id="balance_time"></div>

	<div class="flex details">
		<div id="balance_datail"></div>
		<div id="balance_pl"></div>
	</div>

	<script type="module">
		import FinmarsWidgets from './finmarsWidgets.js'

		let access_token =  'eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJhMkduaFhLRWRIZHpwaExuQTljZWJKV0dXX25jZjB1a2luTHBiTmFLOUpjIn0.eyJleHAiOjE2NzA0MjYwOTIsImlhdCI6MTY3MDMzOTY5MiwianRpIjoiZWVhYzAwYjQtODQ0Mi00YmI4LTk1OWQtNzg4NTkyZWUyNTJmIiwiaXNzIjoiaHR0cHM6Ly9kZXYtYXV0aC5maW5tYXJzLmNvbS9yZWFsbXMvZmlubWFycyIsImF1ZCI6ImFjY291bnQiLCJzdWIiOiJjYzA2ZmY5Ny05YzgzLTQyNWEtOTYyNi0zN2M0NDI1YjYxNzUiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJmaW5tYXJzIiwic2Vzc2lvbl9zdGF0ZSI6IjVlMTg3YTE4LWQ1YjEtNDY2Yi04OTJkLWIyOTkxYzkwMjkwZiIsImFjciI6IjEiLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsib2ZmbGluZV9hY2Nlc3MiLCJkZWZhdWx0LXJvbGVzLWRldi1maW5tYXJzIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6ImVtYWlsIHByb2ZpbGUiLCJzaWQiOiI1ZTE4N2ExOC1kNWIxLTQ2NmItODkyZC1iMjk5MWM5MDI5MGYiLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsInByZWZlcnJlZF91c2VybmFtZSI6ImRldl9hcHJpYWtoaW4ifQ.SwwNdZrapArt3FnYKEeUtM8_JPXRLela0owO2blszF0DxkcCVHXu58tL3L3GSqhwoQmlqMblo_IKNEJ0QUTsDSSPYKNtmL_YfowCyjq7oUa-Rv6skYiKkuOahx3OwGrnC6QkY1md1tPnV4noiS-vsbeYn2_1GewXsmURwlM_Kzl3QpvxDhce5G0CvQQ2Jocsvop7f5EniY0hZf6NtO47puODD0PQ8XuX2fmB67RCrLkPbxHngizQ7JXYULsKTgfzVtJDnmT6o5-jUiv1Kk2R-wH51otfks3846bIe3TQo-AA1y9xD1_anQaTXeyM45pXljPiL8AmnvrCuU-C_YLPjA'

		window.FinmarsWidgetInstance = new FinmarsWidgets({
			apiUrl: "http://localhost:3000/client0s6sf5crgw/v/",
			apiToken: access_token, // access token
			workspace: 'client0s6sf5crgw',
			widget_scope: 'set1',
		})

		window.FinmarsWidgetInstance.setOptions({
			portfolioId: 2, // Readme
			date_to: '2022-09-15', // Readme
			date_from: undefined, // Readme
			benchmark: undefined, // Readme
		})

		window.FinmarsWidgetInstance
			.addWidget({
				name: "barchart",
				container: "#balance_time"
			})

		window.FinmarsWidgetInstance
			.addWidget({
				name: "nav",
				container: "#balance_nav"
			})
		window.FinmarsWidgetInstance
			.addWidget({
				name: "balance",
				container: "#balance_datail"
			})
		window.FinmarsWidgetInstance
			.addWidget({
				name: "pl",
				container: "#balance_pl"
			})
	</script>
</body>
</html>
